(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/react-logo.8e26f220.svg"},32:function(e,t,a){e.exports=a(58)},41:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);a(33),a(25),a(35),a(36);var n=a(0),r=a.n(n),o=a(29),s=a.n(o);a(41),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(61),l=a(62),u=a(60),i=a(59),m="/home",p=r.a.createContext(null),h=function(e){return function(t){return r.a.createElement(p.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))})}},d=p,b=a(3),f={apiKeyFirebase:"AIzaSyBhCJ7JCwI_h0EVVIeqQFUausr5bSjOIog",authDomain:"reactibook-2018.firebaseapp.com",databaseURL:"https://reactibook-2018.firebaseio.com",projectId:"reactibook-2018",storageBucket:"reactibook-2018.appspot.com",messagingSenderId:"733511856277"},E=a(21),v=a.n(E),g=(a(48),a(50),{apiKey:f.apiKeyFirebase,authDomain:f.authDomain,databaseURL:f.databaseURL,projectId:f.projectId,storageBucket:f.storageBucket,messagingSenderId:f.messagingSenderId}),O=function e(){var t=this;Object(b.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.doUpdateUser=function(e){return t.auth.currentUser.updateProfile({displayName:e})},this.doGetUser=function(){return t.auth.currentUser},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.posts=function(){return t.db.ref("posts")},this.post=function(e){return t.db.ref("/posts/".concat(e))},v.a.initializeApp(g),this.auth=v.a.auth(),this.db=v.a.database()},j=h(function(e){var t=e.firebase;return r.a.createElement("button",{className:"nav-button",type:"button",onClick:t.doSignOut},"Cerrar sesi\xf3n")}),C=r.a.createContext(null),y=a(4),w=a(6),S=a(5),k=a(7),N=function(e){var t=function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(w.a)(this,Object(S.a)(a).call(this,e))).state={authUser:null},t}return Object(k.a)(a,t),Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(C.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return h(t)},U=a(63),P=a(14),I=function(e){return function(t){var a=function(a){function n(){return Object(b.a)(this,n),Object(w.a)(this,Object(S.a)(n).apply(this,arguments))}return Object(k.a)(n,a),Object(y.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(C.Consumer,null,function(n){return e(n)?r.a.createElement(t,a.props):null})}}]),n}(r.a.Component);return Object(P.a)(U.a,h)(a)}},x=a(24),D=a.n(x),R=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("a",{className:"navbar-brand",href:"/reactibook"+m},r.a.createElement("img",{alt:"Reactibook Logo",src:D.a,id:"logo-navbar"}),"ReactiBook"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.a,{to:m,className:"nav-link"},"Inicio")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.a,{to:"/account",className:"nav-link"},"Mi cuenta")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.a,{to:"/users",className:"nav-link"},"Usuarios")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(j,null)))))},W=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("a",{className:"navbar-brand",href:"/reactibook/"},r.a.createElement("img",{alt:"Reactibook Logo",src:D.a,id:"logo-navbar"}),"ReactiBook"))},T=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-background"},r.a.createElement(C.Consumer,null,function(e){return e?r.a.createElement(R,null):r.a.createElement(W,null)}))},A=a(12),B=a(9),F={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},L=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.email,o=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(r,o).then(function(e){return a.props.firebase.user(e.user.uid).set({username:n,email:r})}).then(function(){a.props.firebase.doUpdateUser(n)}).then(function(){a.setState(Object(B.a)({},F)),a.props.history.push(m)}).catch(function(e){a.setState({error:e})})},a.onChange=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.state=Object(B.a)({},F),a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,o=e.passwordTwo,s=e.error,c=n!==o||""===n||""===a||""===t,l=""!==t&&t.length<2,u=""!==o&&n!==o;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Ingresa tu nombre completo","aria-label":"Nombre Completo"}),l?r.a.createElement("p",{className:"error"},"Ingresa tu nombre completo"):null,r.a.createElement("input",{name:"email",value:a,onChange:this.onChange,type:"email",placeholder:"Ingresa tu correo electr\xf3nico","aria-label":"Correo electr\xf3nico"}),r.a.createElement("input",{name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"Ingresa tu contrase\xf1a","aria-label":"Contrase\xf1a"}),r.a.createElement("input",{name:"passwordTwo",value:o,onChange:this.onChange,type:"password",placeholder:"Confirma tu contrase\xf1a","aria-label":"Confirma contrase\xf1a"}),u?r.a.createElement("p",{className:"error"},"Las contrase\xf1as no coindicen"):null,r.a.createElement("button",{disabled:c,type:"submit"},"Registrar"),s&&r.a.createElement("p",{className:"error"},s.message))}}]),t}(n.Component),M=function(){return r.a.createElement("p",null,"\xbfA\xfan no tienes una cuenta?",r.a.createElement("br",null),r.a.createElement(i.a,{to:"/signup"},"Crea una cuenta"))},J=Object(P.a)(U.a,h)(L),K=function(){return r.a.createElement("main",{className:"center container col-12 col-md-8"},r.a.createElement("h1",null,"Crea una cuenta"),r.a.createElement(J,null))},V={email:"",error:null},q=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(B.a)({},V))}).catch(function(e){a.setState({error:e})})},a.onChange=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.state=Object(B.a)({},V),a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"email",placeholder:"Ingresa tu correo electr\xf3nico","aria-label":"Correo electr\xf3nico"}),r.a.createElement("button",{disabled:n,type:"submit"},"Recuperar"),a&&r.a.createElement("p",{className:"error"},a.message))}}]),t}(n.Component),z=function(){return r.a.createElement("p",null,r.a.createElement(i.a,{to:"/pw-forget"},"\xbfOlvidaste tu contrase\xf1a?"))},Q=function(){return r.a.createElement("main",{className:"center container col-12 col-md-8"},r.a.createElement("h1",null,"Recupera tu contrase\xf1a"),r.a.createElement("p",null,"Ingresa tu correo para recibir instrucciones"),r.a.createElement(G,null))},G=h(q),$={email:"",password:"",error:null},_=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then(function(){a.setState(Object(B.a)({},$)),a.props.history.push(m)}).catch(function(e){a.setState({error:e})})},a.onChange=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.state=Object(B.a)({},$),a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,o=""===a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"email",placeholder:"Ingresa tu correo electr\xf3nico","aria-label":"Correo electr\xf3nico"}),r.a.createElement("input",{name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Ingresa tu contrase\xf1a","aria-label":"Contrase\xf1a"}),r.a.createElement("button",{disabled:o,type:"submit"},"Entrar"),n&&r.a.createElement("p",{className:"error"},n.message))}}]),t}(n.Component),H=Object(P.a)(U.a,h)(_),X=function(){return r.a.createElement("main",{className:"center container col-12 col-md-8"},r.a.createElement("h1",null,"Inicia sesi\xf3n"),r.a.createElement(H,null),r.a.createElement(z,null),r.a.createElement(M,null))},Y=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.props.firebase.posts(),n={postText:a.state.currentPost,user:a.state.user.displayName||a.state.user.email};t.push(n),a.setState({currentPost:"",username:""})},a.handleChange=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.state={currentPost:"",username:"",user:{}},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.firebase.auth.currentUser;this.setState({user:e})}},{key:"componentWillUnmount",value:function(){this.setState({user:{}})}},{key:"render",value:function(){var e=""===this.state.currentPost.trim();return r.a.createElement("section",{className:"col-8 offset-2 col-md-4 offset-md-1 justify-content-around post-entry"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"\xbfQu\xe9 est\xe1 pasando?"),r.a.createElement("textarea",{type:"text",name:"currentPost",placeholder:"Escribelo aqu\xed",onChange:this.handleChange,value:this.state.currentPost}),r.a.createElement("button",{className:"home-button",disabled:e,type:"submit"},"Publicar")))}}]),t}(n.Component),Z=h(Y),ee=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).getPosts=function(){a.props.firebase.posts().on("value",function(e){var t=e.val(),n=[];for(var r in t)n.push({id:r,postText:t[r].postText,user:t[r].user});a.setState({posts:n})})},a.state={posts:[],user:{}},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.setState({user:this.props.firebase.auth.currentUser}),this.getPosts()}},{key:"componentWillUnmount",value:function(){this.setState({user:{}})}},{key:"removePost",value:function(e){this.props.firebase.post(e).remove()}},{key:"editePost",value:function(e){console.log("Voy a editar el post con el ID: "+e)}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"col-10 offset-1 col-md-6 offset-md-0"},r.a.createElement("div",{className:"display-posts"},r.a.createElement("ul",null,this.state.posts.map(function(t){return r.a.createElement("li",{key:t.id},r.a.createElement("p",{className:"text-color"},"Publicado por: ",t.user),r.a.createElement("p",{className:"bolder"},t.postText),r.a.createElement("hr",null),t.user===(e.state.user.displayName||e.state.user.email)?r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"button-post",onClick:function(){return e.editePost(t.id)}},"Editar"),r.a.createElement("button",{className:"button-post",onClick:function(){return e.removePost(t.id)}},"Eliminar")):null)}).reverse())))}}]),t}(n.Component),te=h(ee),ae=I(function(e){return!!e})(function(){return r.a.createElement("main",{className:"home row"},r.a.createElement(Z,null),r.a.createElement(te,null))}),ne={passwordOne:"",passwordTwo:"",error:null},re=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state.passwordOne;a.props.firebase.doPasswordUpdate(t).then(function(){a.setState(Object(B.a)({},ne))}).catch(function(e){a.setState({error:e})})},a.onChange=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.state=Object(B.a)({},ne),a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,o=""===a||t!==a,s=t!==a;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"Ingresa tu contrase\xf1a","aria-label":"Contrase\xf1a"}),r.a.createElement("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirma tu contrase\xf1a","aria-label":"Confirma contrase\xf1a"}),s?r.a.createElement("p",{className:"error"},"Las contrase\xf1as no coindicen"):null,r.a.createElement("button",{disabled:o,type:"submit"},"Cambiar contrase\xf1a"),n&&r.a.createElement("p",{className:"error"},n.message))}}]),t}(n.Component),oe=h(re),se=I(function(e){return!!e})(function(){return r.a.createElement(C.Consumer,null,function(e){return r.a.createElement("main",{className:"center container col-12 col-md-8"},r.a.createElement("h1",null,"Tu cuenta:"),r.a.createElement("p",null,"Username: ",e.displayName," "),r.a.createElement("p",null,"Email: ",e.email," "),r.a.createElement("p",null," Recupera tu contrase\xf1a:"),r.a.createElement(G,null),r.a.createElement("p",null,"O cambia tu contrase\xf1a:"),r.a.createElement(oe,null))})}),ce=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).state={loading:!1,users:[]},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",function(t){var a=t.val(),n=Object.keys(a).map(function(e){return Object(B.a)({},a[e],{uid:e})});e.setState({users:n,loading:!1})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.loading;return r.a.createElement("main",{className:"center container col-12 col-md-8"},r.a.createElement("h1",null,"Usuarios de Reactibook"),a&&r.a.createElement("div",null,"Cargando ..."),r.a.createElement(le,{users:t}))}}]),t}(n.Component),le=function(e){var t=e.users;return r.a.createElement(n.Fragment,null,t.map(function(e){return r.a.createElement("div",{className:"card",key:e.uid},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},r.a.createElement("strong",null,"Usuario:")," ",e.username),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"ID:")," ",e.uid),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"Email:")," ",e.email)))}))},ue=I(function(e){return!!e})(h(ce)),ie=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Error 404"))},me=N(function(){return r.a.createElement(c.a,{basename:"/reactibook"},r.a.createElement(n.Fragment,null,r.a.createElement(T,null),r.a.createElement(l.a,null,r.a.createElement(u.a,{exact:!0,path:"/",component:X}),r.a.createElement(u.a,{exact:!0,path:"/signup",component:K}),r.a.createElement(u.a,{exact:!0,path:"/pw-forget",component:Q}),r.a.createElement(u.a,{exact:!0,path:m,component:ae}),r.a.createElement(u.a,{exact:!0,path:"/account",component:se}),r.a.createElement(u.a,{exact:!0,path:"/users",component:ue}),r.a.createElement(u.a,{component:ie}))))});s.a.render(r.a.createElement(d.Provider,{value:new O},r.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.4ccc5804.chunk.js.map